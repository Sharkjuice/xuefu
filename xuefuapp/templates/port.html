
{% extends 'base.html' %}

{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-3">
  {% crispy form %}
</div>
{% if has_error %}
<div class="text-danger mt-3">
  {% for err in errors %}
  <p>{{ err }}</p>
  {% endfor %}
</div>
{% else %}
<div class="mt-3">
  {% for err in errors %}
  <p>{{ err }}</p>
  {% endfor %}
</div>
{% endif %}  

<table class="table table-bordered" style="margin-top: 10px;">
  <thead class="thead-light">
    <tr>
      <th colspan="6" class="text-center">文件导入导出操作记录</th>
    </tr>
      <tr>
          <th>序号</th>
          <th>操作时间</th>
          <th>操作人员</th>
          <th>文件名称</th>
          <th>文件类型</th>
          <th>操作</th>
      </tr>
  </thead>

  <tbody>
      {% for obj in all  %}
      <tr>
          <td>{{ obj.id }}</td>
          <td>{{ obj.create_at }}</td>
          <td>{{ obj.created_by }}</td>
          <td>{{ obj.filename }}</td>
          <td>{{ obj.filetype_str }}</td>
          <td>{{ obj.operation_str }}</td>
      </tr>
      {% endfor %}
  </tbody>
</table>

{% endblock %}
